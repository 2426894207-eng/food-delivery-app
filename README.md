# 双平台自动出餐APP

## 简介
这是一个基于Kivy开发的双平台自动出餐系统，支持绑定美团和饿了么账号，自动同步订单、设置出餐时间、订单查询等功能。

## 功能特点
1. **平台绑定**：支持绑定美团和饿了么账号
2. **订单同步**：自动同步两个平台的订单
3. **智能出餐**：根据设置的阈值自动安排出餐时间
4. **订单查询**：查询指定订单的状态
5. **阈值设置**：自定义高单量阈值，影响出餐时间安排

## 环境要求
- Python 3.8+
- Kivy 2.3.0+
- requests 2.31.0+
- json5 0.9.14+

## 安装步骤

### 1. 安装Python
确保您的系统已安装Python 3.8或更高版本。安装时请勾选"Add Python to PATH"选项。

### 2. 安装依赖
在项目目录下执行以下命令安装所需依赖：
```bash
pip install -r requirements.txt
```

### 3. 运行应用
在项目目录下执行以下命令运行应用：
```bash
python main.py
```

## 使用说明

### 1. 绑定平台账号
- 进入"绑定平台账号"页面
- 选择要绑定的平台（美团或饿了么）
- 输入账号和密码
- 点击"绑定账号"完成绑定

### 2. 同步与处理订单
- 确保已绑定至少一个平台账号
- 进入"同步与处理订单"页面
- 点击"开始同步订单"按钮
- 系统将自动同步订单并根据阈值设置安排出餐时间

### 3. 查询订单状态
- 进入"查询订单状态"页面
- 输入要查询的订单号
- 点击"开始查询"查看订单状态

### 4. 修改高单量阈值
- 进入"修改高单量阈值"页面
- 输入新的阈值（如6、8等）
- 点击"确认修改"保存新阈值

## 注意事项
1. 本应用目前使用模拟数据，实际使用时需要接入真实的美团和饿了么API
2. 账号信息将保存在本地配置文件中，请确保系统安全
3. 高单量阈值设置会影响出餐时间安排：
   - 当订单量≥阈值时，每单间隔5分钟出餐
   - 当订单量<阈值时，每单间隔3分钟出餐

## 常见问题

### 问题：无法正常显示中文
解决方法：确保您的系统已安装中文字体，如SimHei或其他中文字体。

### 问题：同步订单失败
解决方法：检查网络连接和已绑定账号的有效性。

### 问题：应用启动时报错
解决方法：确保所有依赖已正确安装，尝试重新安装Kivy：
```bash
pip install kivy --upgrade
```

## 开发说明
如需修改或扩展应用功能，请修改main.py文件中的相应模块。主要模块包括：
- 账号管理（绑定、保存、加载）
- 订单同步与处理
- 出餐时间计算
- 查询功能
- 阈值设置